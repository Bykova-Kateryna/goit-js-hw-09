{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,SAEpCF,EAAKG,iBAAiB,UAEtB,SAA6BC,GAC3BA,EAAMC,iBAEN,IAAIC,EAAON,EAAKO,MAAMC,MAEtB,MAAMC,EAAe,CACnB,CAACF,MAAOG,OAAOJ,GAAOK,SAAU,IAGlC,IAAK,IAAIC,EAAI,EAAGA,GAAKF,OAAOV,EAAKa,OAAOL,OAAQI,GAAK,EACnDH,EAAaK,KAAM,CAACP,MAAOD,EAAOI,OAAOJ,GAAQI,OAAOV,EAAKe,KAAKP,OAAQG,SAAUC,IAGrEH,EAAaO,KAAKC,IACjC,OAMmBN,EANEM,EAAIN,SAMIJ,EANMU,EAAIV,MAOlC,IAAIW,SAAS,CAACC,EAASC,KAC5B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACLH,EAEFF,EAAQ,uBAAqBR,QAAiBJ,OAG9Ca,EAAO,sBAAoBT,QAAeJ,SAE3CA,OAhBFkB,MAAMC,IAAeC,EAAA7B,GAAS8B,OAAOC,QAAQH,MAC7CI,OAAOC,IAAgBJ,EAAA7B,GAAS8B,OAAOI,QAAQD,MAIpD,IAAuBpB,EAAUJ","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', createChangePromise);\n\nfunction createChangePromise(event){\n  event.preventDefault()\n\n  let TIME = form.delay.value;\n  \n  const arrayPromise = [\n    {delay: Number(TIME), position: 1}\n  ];\n  \n  for (let i = 2; i <= Number(form.amount.value); i += 1) {\n    arrayPromise.push( {delay: TIME = Number(TIME) + Number(form.step.value), position: i})\n  }\n\n  const promises = arrayPromise.map((arr) => {\n    return createPromise(arr.position, arr.delay)\n    .then((messageOk) => {Notiflix.Notify.success(messageOk)})\n    .catch((messageErr) => {Notiflix.Notify.warning(messageErr)})\n  });\n};\n\nfunction createPromise(position, delay) {\n  return new Promise ((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      } else {\n        // Reject\n        reject(`❌ Rejected promise ${position} in ${delay}ms`)\n      }\n    }, delay)\n  })\n};\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","addEventListener","event","preventDefault","TIME","delay","value","arrayPromise","Number","position","i","amount","push","step","map","arr","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","then","messageOk","$parcel$interopDefault","Notify","success","catch","messageErr","warning"],"version":3,"file":"03-promises.403eb8d4.js.map"}