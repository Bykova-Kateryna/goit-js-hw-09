{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SAEpCF,EAAKG,iBAAiB,UAEtB,SAA6BC,GAC3BA,EAAMC,iBAQN,IANA,IAAIC,EAAON,EAAKO,MAAMC,MAEhBC,EAAe,CACnB,CAACF,MAAOG,OAAOJ,GAAOK,SAAU,IAGzBC,EAAI,EAAGA,GAAKF,OAAOV,EAAKa,OAAOL,OAAQI,GAAK,EACnDH,EAAaK,KAAM,CAACP,MAAOD,EAAOI,OAAOJ,GAAQI,OAAOV,EAAKe,KAAKP,OAAQG,SAAUC,IAGrEH,EAAaO,KAAI,SAACC,GACjC,OAMmBN,EANEM,EAAIN,SAMIJ,EANMU,EAAIV,MAOlC,IAAIW,SAAS,SAACC,EAASC,GAC5B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACLH,EAEFF,EAAQ,uBAAwCM,OAAfd,EAAS,QAAYc,OAANlB,EAAM,OAGtDa,EAAO,sBAAqCK,OAAfd,EAAS,QAAYc,OAANlB,EAAM,SAEnDA,OAhBFmB,MAAK,SAACC,GAAeC,EAAA9B,GAAS+B,OAAOC,QAAQH,MAC7CI,OAAM,SAACC,GAAgBJ,EAAA9B,GAAS+B,OAAOI,QAAQD,MAIpD,IAAuBrB,EAAUJ,Q","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', createChangePromise);\n\nfunction createChangePromise(event){\n  event.preventDefault()\n\n  let TIME = form.delay.value;\n  \n  const arrayPromise = [\n    {delay: Number(TIME), position: 1}\n  ];\n  \n  for (let i = 2; i <= Number(form.amount.value); i += 1) {\n    arrayPromise.push( {delay: TIME = Number(TIME) + Number(form.step.value), position: i})\n  }\n\n  const promises = arrayPromise.map((arr) => {\n    return createPromise(arr.position, arr.delay)\n    .then((messageOk) => {Notiflix.Notify.success(messageOk)})\n    .catch((messageErr) => {Notiflix.Notify.warning(messageErr)})\n  });\n};\n\nfunction createPromise(position, delay) {\n  return new Promise ((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      } else {\n        // Reject\n        reject(`❌ Rejected promise ${position} in ${delay}ms`)\n      }\n    }, delay)\n  })\n};\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","addEventListener","event","preventDefault","TIME","delay","value","arrayPromise","Number","position","i","amount","push","step","map","arr","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","concat","then","messageOk","$parcel$interopDefault","Notify","success","catch","messageErr","warning"],"version":3,"file":"03-promises.d7357a3a.js.map"}